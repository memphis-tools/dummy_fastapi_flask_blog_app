{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block title %}UPDATE BOOK{% endblock title %}

{% block content %}
<div class="container">
    {% if form.errors %}
        <ul class=flashes>
            <li class="error">{{ form.errors["photo"][0] }}</li>
        </ul>
    {% endif %}
    <div class="section_intro"></div>
    <h1>DUMMY BLOG - METTRE A JOUR LIVRE</h1>
    <div class="row justify-content-center">
        <div class="d-flex flex-column justify-content-center w-75">
            <form class="form" method="post" enctype="multipart/form-data">
                {{ form.csrf_token }}
                <label for="title">{{ form.title.label }}</label>{{ form.title }}
                <label for="summary">{{ form.summary.label }}</label>{{ form.summary }}
                <label for="author">{{ form.author.label }}</label>{{ form.author }}
                <div class="d-flex flex-column">
                    <label for="categories">{{ form.categories.label }}</label>{{ form.categories }}
                </div>
                <label for="year_of_publication">{{ form.year_of_publication.label }}</label>
                {% if form.year_of_publication is not none %}
                  <div class="col-md-1">
                      {{ form.year_of_publication(size=5) }}
                  </div>
                {% else %}
                  <div class="col-md-1"></div>
                {% endif %}
                <div class="counters">
                    <p>Commentaires: {{ book.book_comments | length }}</p>
                    <p>Favoris: {{ book.starred | length }}</p>
                </div>
                <label for="content">{{ form.content.label }}</label>{{ form.content }}
                <label for="photo">{{ form.photo.label }}</label>{{ form.photo }}
                <button type="submit" class="btn btn-primary" name="button">METTRE A JOUR</button>
            </form>
        </div>
    </div>
</div>
{% endblock content %}
